(()=>{"use strict";$(document).ready((function(){$("#defaultLanguage").select2({width:"100%"})})),$(document).on("submit","#changePasswordForm",(function(e){if(e.preventDefault(),!function(){var e=$("#pfCurrentPassword").val().trim(),a=$("#pfNewPassword").val().trim(),o=$("#pfNewConfirmPassword").val().trim();if(""==e||""==a||""==o)return $("#editPasswordValidationErrorsBox").show().html("Please fill all the required fields."),!1;return!0}())return!1;var a=jQuery(this).find("#btnEditSavePassword");a.button("loading"),$.ajax({url:changePasswordUrl,type:"post",data:$(this).serialize(),success:function(e){e.success&&($("#changePasswordModal").modal("hide"),displaySuccessMessage(e.message))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){a.button("reset")}})})),$("#editProfileModal").on("hidden.bs.modal",(function(){resetModalForm("#editProfileForm","#editProfileValidationErrorsBox")})),$(document).on("click",".changeType",(function(e){var a=$(this).parent().siblings();"password"==a.attr("type")?($(this).children().addClass("fa-eye"),$(this).children().removeClass("fa-eye-slash"),a.attr("type","text")):($(this).children().removeClass("fa-eye"),$(this).children().addClass("fa-eye-slash"),a.attr("type","password"))})),$("#changePasswordModal").on("hidden.bs.modal",(function(){resetModalForm("#changePasswordForm","#editPasswordValidationErrorsBox")})),$(document).on("keyup","#facebookUrl",(function(){this.value=this.value.toLowerCase()})),$(document).on("keyup","#linkedInUrl",(function(){this.value=this.value.toLowerCase()})),$(document).on("keyup","#skypeUrl",(function(){this.value=this.value.toLowerCase()})),$(document).on("submit","#updateProfile",(function(e){e.stopImmediatePropagation();var a=$("#facebookUrl").val(),o=$("#linkedInUrl").val(),t=$("#skypeUrl").val(),n=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)facebook.[a-z]{2,3}\/?.*/i),s=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)linkedin\.[a-z]{2,3}\/?.*/i),r=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)skype.[a-z]{2,3}\/?.*/i);return""!=a&&!a.match(n)?(displayErrorMessage("Please enter a valid Facebook Url"),!1):""!=o&&!o.match(s)?(displayErrorMessage("Please enter a valid Linkedin Url"),!1):""==t||!!t.match(r)?""!==$("#error-msg").text()?($("#phoneNumber").focus(),!1):void 0:(displayErrorMessage("Please enter a valid Skype Url"),!1)})),$(document).on("change","#profileImage",(function(){isValidFile($(this),"#validationErrorBox")?(displayPhoto(this,"#previewImage"),$("#btnSave").prop("disabled",!1)):$("#btnSave").prop("disabled",!0)})),$(document).on("submit","#changeLanguageForm",(function(e){e.preventDefault();var a=$(this).find("#btnLanguageChange");a.button("loading"),$.ajax({url:changeLanguageUrl,type:"post",data:new FormData($(this)[0]),processData:!1,contentType:!1,success:function(e){e.success&&($("#changeLanguageModal").modal("hide"),location.reload())},error:function(e){manageAjaxErrors(e,"#changeLanguageValidationErrorsBox")},complete:function(){a.button("reset")}})})),$("#changeLanguageModal").on("hidden.bs.modal",(function(){resetModalForm("#changeLanguageForm","#changeLanguageValidationErrorsBox")}))})();