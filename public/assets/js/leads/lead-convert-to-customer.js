(()=>{"use strict";$(document).on("blur","#convertWebsite",(function(){var e=$(this).val();isEmpty(e)?$("#convertWebsite").val(""):(e=websiteURLConvert(e),$("#convertWebsite").val(e))})),window.websiteURLConvert=function(e){return~e.indexOf("http")||(e="http://"+e),e},$(document).ready((function(){$("#convertLanguageId,#convertGroupId,#convertCountryId").select2({width:"100%"}),$(document).on("click","#leadConvertToCustomer",(function(){var e=$(".companyName").text(),t=$(".leadWebsite").val(),o=$(".countryId").val(),r=$(".defaultLanguage").val();$("#companyName").val(isEmpty(e)?"":e),$("#convertWebsite").val(isEmpty(t)?"":t),isEmpty(r)||$("#convertLanguageId").val(r).trigger("change"),isEmpty(o)||$("#convertCountryId").val(o).trigger("change"),$("#convertToCustomer").appendTo("body").modal("show")})),$("#convertToCustomer").on("hidden.bs.modal",(function(){resetModalForm("#leadConvertToCustomerForm","#validationErrorsBox"),$("#convertLanguageId").val("").trigger("change"),$("#convertCountryId").val("").trigger("change")})),$(document).on("submit","#leadConvertToCustomerForm",(function(e){if(e.preventDefault(),t=$("#emailId").val(),!/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t))return displayErrorMessage("Email Id Is Invalid"),!1;var t;processingBtn("#leadConvertToCustomerForm","#btnConvertLeadToCustomer","loading"),$.ajax({url:route("lead.convert.customer"),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#convertToCustomer").modal("hide"),$("#leadConvertToCustomer").hide())},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#leadConvertToCustomerForm","#btnConvertLeadToCustomer")}})}))}))})();